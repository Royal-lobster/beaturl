<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BeatURL — Share Beats via URL</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a0f;--surface:#12121a;--border:#1e1e2e;
  --text:#e0e0e0;--dim:#666;
  --kick:#ff3366;--snare:#ff9f43;--hihat:#00d2ff;
  --clap:#a855f7;--tom:#22c55e;--rim:#f472b6;
}
body{background:var(--bg);color:var(--text);font-family:'SF Mono',Monaco,'Cascadia Code',monospace;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;user-select:none;-webkit-user-select:none}
h1{font-size:1.6rem;letter-spacing:4px;margin:10px 0 4px}
.subtitle{color:var(--dim);font-size:.7rem;letter-spacing:2px;margin-bottom:20px}
.controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:center;margin-bottom:20px}
button{background:var(--surface);border:1px solid var(--border);color:var(--text);padding:8px 18px;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.8rem;transition:all .15s}
button:hover{border-color:#444;background:#1a1a2a}
.sequencer{display:grid;gap:4px;margin-bottom:20px;width:100%;max-width:820px}
.track-label{font-size:.65rem;letter-spacing:1px;text-transform:uppercase;display:flex;align-items:center;justify-content:flex-end;padding-right:8px;white-space:nowrap}
.cell{
  aspect-ratio:1;border-radius:4px;cursor:pointer;
  background:var(--surface);border:1px solid var(--border);
  transition:background .1s,transform .08s,box-shadow .1s;
  min-width:0;position:relative;
}
.cell:hover{border-color:#333;transform:scale(1.08)}
.cell.on{border-color:transparent}
</style>
</head>
<body>

<h1>BEATURL</h1>
<p class="subtitle">ENCODE BEATS IN URLs</p>

<div class="controls">
  <button id="playBtn">▶ PLAY</button>
  <button onclick="clearAll()">✕ CLEAR</button>
</div>

<div class="sequencer" id="seq"></div>

<script>
const TRACKS = [
  {name:'KICK',  color:'var(--kick)',  synth:'kick'},
  {name:'SNARE', color:'var(--snare)', synth:'snare'},
  {name:'HIHAT', color:'var(--hihat)', synth:'hihat'},
  {name:'CLAP',  color:'var(--clap)',  synth:'clap'},
  {name:'TOM',   color:'var(--tom)',   synth:'tom'},
  {name:'RIM',   color:'var(--rim)',   synth:'rim'},
];
const STEPS = 16;
const grid = TRACKS.map(()=>new Array(STEPS).fill(0));
let bpm = 120, playing = false, step = -1;

function buildGrid(){
  const seq=document.getElementById('seq');
  seq.style.gridTemplateColumns=`50px repeat(${STEPS},1fr)`;
  seq.innerHTML='';
  TRACKS.forEach((tr,r)=>{
    const lbl=document.createElement('div');
    lbl.className='track-label';lbl.textContent=tr.name;
    lbl.style.color=tr.color;
    seq.appendChild(lbl);
    for(let c=0;c<STEPS;c++){
      const cell=document.createElement('div');
      cell.className='cell';
      cell.dataset.r=r;cell.dataset.c=c;
      cell.addEventListener('pointerdown',()=>toggleCell(r,c,cell));
      if(grid[r][c]) paintOn(cell,tr.color);
      seq.appendChild(cell);
    }
  });
}
function paintOn(el,color){el.classList.add('on');el.style.background=color;el.style.boxShadow=`0 0 8px ${color}40`;}
function paintOff(el){el.classList.remove('on');el.style.background='';el.style.boxShadow='';}
function toggleCell(r,c,el){
  grid[r][c]=grid[r][c]?0:1;
  grid[r][c]?paintOn(el,TRACKS[r].color):paintOff(el);
}
function getCell(r,c){return document.querySelector(`.cell[data-r="${r}"][data-c="${c}"]`);}
function clearAll(){grid.forEach(r=>r.fill(0));buildGrid();}

buildGrid();
</script>
</body>
</html>
